

<!-- Ask request upon load -->
<div
    class="load-item-content"
    hx-get="{{ api_data.load_list_endp }}"
    hx-target="#item-list" 
    hx-trigger="load"
>
</div>



<!-- Modal for Creating -->
<div id="create-modal" class="modal">
    <div class="modal-content">
        <div class="header">
            <h1>Create {{ title }}</h1>
            <span class="close" onclick="closeCreateModal()">&times;</span>
        </div>

        <form 
            hx-post="{{ api_data.submit_endp }}"
            hx-ext="form-json"
            hx-trigger="submit"
            hx-swap="none"
            hx-on::after-request="refresh_table_list(); closeCreateModal()"
        >
            <div>
                <label for="name">Product name</label>
                <input type="text" name="name" id="name" placeholder="Product name">
            </div>

            <div>
                <label for="description">Description</label>
                <input type="text" name="description" id="description" placeholder="Description">
            </div>

            <div>
                <label for="price">Price</label><br>
                <input type="number" step="0.01" min="0.00" name="price" id="price" placeholder="0.00" oninput="limitDecimal(this)" style="width: 20%;">
            </div>

            <div>
                <label for="stock">Available Stocks</label><br>
                <input type="number" min="0" name="stock" placeholder="0" ="stock" id="stock" style="width: 20%;">
            </div>

            <div class="confirm-action">
                <button type="submit">Submit</button>
                <button type="button" onclick="closeCreateModal()">Cancel</button>
            </div>
        </form>
        
    </div>
</div>



<!-- Modal for Deletion -->
    <div id="delete-modal" class="modal" data-endpoint={{ api_data.delete_endp }}>
    <div class="modal-content" >
        <div class="header">
            <h1>Delete {{ title }}</h1>
            <span class="close" onclick="closeDeleteModal()">&times;</span>
        </div>

        <div>
            <p>Are you sure you want to delete "<span id="delete-who"></span>" ?</p>
        </div>

        <div class="warning-action">
            <button type="submit" onclick="">Delete</button>
            <button type="button" onclick="closeDeleteModal()">Cancel</button>
        </div>
    </div>
</div>


<h1 class="manage-title">{{ title }}</h1>

<div class="item-action">

    <!-- Filter -->
    <div>
        <div class="filter-div">
            {% for opt in filters %}
            <div
                hx-get="{{ opt.1 }}"
                hx-target="#display-list"
            >{{ opt.0 }}</div>
            {% endfor %}
        </div>
    </div>
    
    <!-- Search Button -->
    <div>
        <div class="search-div">
            <input type="text" 
                name="prefix"
                class="custom-input" 
                placeholder="Search..."
                hx-get="{{ api_data.search_endp }}" 
                hx-trigger="keyup[key=='Enter']" 
                hx-target="#item-list" 
                hx-include=".custom-input"
                >
            <div hx-get="{{ api_data.search_endp }}" 
                hx-target="#item-list" 
                hx-include=".custom-input" 
            ><i class="bi bi-search"></i></div>
        </div>

        <!-- Add Button -->

        <div class="add-button" onclick="openCreateModal('create-modal')">
            <i class="bi bi-plus"></i>
            <span>Add</span>
        </div>

    </div>
</div>

<div class="table-container">
<table class="table-list">
    <thead>
        <tr >
            {% for col in columns %}
                <th style="width: {{ col.1 }}%;">{{ col.0 }}</th>
            {% endfor  %}    
        </tr>
    </thead>
    <tbody class="item-list" id="item-list" hx-swap="innerHtml">
        <tr>
            <td colspan="{{ columns.len() }}" >
                <div class="display-list" id="display-list">
                    <div class="empty-list">
                        <div>List is Empty</div>
                    </div>
                </div>
            </td>
        </tr>
    </tbody>
</table>
</div>


<div class="pager">
    <div>
        <button> <- </button>
            <input type="number" name="" id="">
        <button> -> </button>
    </div>
</div>



